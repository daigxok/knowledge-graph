# 教师课堂授课快速修复指南

## 问题：没有"📖 查看详情"按钮

### 快速解决方案

#### 方案1：使用简化版页面（推荐）

我们创建了一个简化版页面，功能完全相同但更稳定：

```
打开文件：teacher-classroom-simple.html
```

**特点**：
- ✅ 所有按钮都可见
- ✅ 功能完整（查看详情、生成教案、导出教案）
- ✅ 代码更简洁，更容易调试
- ✅ 无弹窗设计

**使用方法**：
1. 使用本地服务器运行（推荐）：
   ```bash
   python -m http.server 8000
   ```
2. 访问：`http://localhost:8000/teacher-classroom-simple.html`
3. 从左侧选择章节
4. 点击知识点卡片上的"📖 查看详情"按钮

#### 方案2：使用诊断工具

运行诊断工具检查问题：

```
打开文件：diagnose-classroom.html
```

**功能**：
- 测试数据加载
- 测试函数定义
- 测试按钮渲染
- 测试按钮点击
- 运行完整流程测试

**使用方法**：
1. 打开 `diagnose-classroom.html`
2. 依次点击各个测试按钮
3. 查看测试结果
4. 根据结果排查问题

#### 方案3：检查原页面

如果要使用原页面 `teacher-classroom.html`，请按以下步骤检查：

**步骤1：使用本地服务器**
```bash
# 不要直接双击HTML文件！
# 使用本地服务器：
python -m http.server 8000

# 然后访问：
http://localhost:8000/teacher-classroom.html
```

**步骤2：打开开发者工具**
- 按 `F12` 打开开发者工具
- 切换到 `Console` 标签

**步骤3：检查数据加载**
在Console中输入：
```javascript
allNodes
```
应该看到一个包含172个节点的数组

**步骤4：检查函数定义**
在Console中输入：
```javascript
typeof window.showNodeDetail
```
应该返回 `"function"`

**步骤5：手动测试**
在Console中输入：
```javascript
// 测试显示章节
showChapter('第1章 函数与极限')

// 测试显示详情（使用第一个节点的ID）
showDetail(allNodes[0].id)
```

### 常见问题

#### Q1: 为什么看不到按钮？

**可能原因**：
1. 数据未加载完成
2. JavaScript错误
3. CSS样式问题
4. 浏览器缓存问题

**解决方法**：
1. 等待数据加载完成（看到章节列表）
2. 检查Console是否有错误
3. 清除浏览器缓存（Ctrl+Shift+Delete）
4. 使用无痕模式测试

#### Q2: 点击章节后没有反应？

**可能原因**：
- JavaScript未加载
- CORS错误（直接打开HTML文件）

**解决方法**：
- 使用本地服务器运行
- 检查Console错误信息

#### Q3: 按钮显示但点击无效？

**可能原因**：
- 函数未定义
- 节点ID不正确

**解决方法**：
1. 在Console中检查：
   ```javascript
   typeof window.showNodeDetail
   ```
2. 查看Console是否有错误信息

### 文件对比

| 文件 | 特点 | 推荐度 |
|------|------|--------|
| teacher-classroom-simple.html | 简化版，稳定可靠 | ⭐⭐⭐⭐⭐ |
| teacher-classroom.html | 完整版，功能丰富 | ⭐⭐⭐⭐ |
| diagnose-classroom.html | 诊断工具 | ⭐⭐⭐⭐⭐ |

### 推荐使用流程

```
1. 先使用 diagnose-classroom.html 诊断问题
   ↓
2. 如果诊断通过，使用 teacher-classroom-simple.html
   ↓
3. 如果需要更多功能，使用 teacher-classroom.html
```

### 技术支持

如果以上方法都无法解决问题：

1. **截图Console错误信息**
2. **记录操作步骤**
3. **联系技术支持**：15805295231

### 更新日志

- **2026-03-01**: 创建简化版页面
- **2026-03-01**: 创建诊断工具
- **2026-03-01**: 添加调试功能

---

**建议：优先使用 `teacher-classroom-simple.html`，它更稳定可靠！** ✨
