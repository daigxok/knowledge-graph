# 孤立节点说明与修复

## 为什么会有很多孤立节点？

1. **Phase 1 扩展只补了部分边**  
   学域图谱从约 25 个节点扩展到 78 个节点时，在 `nodes.json` 里为每个新节点都写了 `prerequisites`（前置知识），但 `edges.json` 里**没有为所有前置关系补上对应的边**。结果是：很多节点在数据上“有前置”，在图上却没有任何连线，变成**孤立节点**。

2. **边文件存在大量重复边**  
   `edges.json` 中同一对 `(source, target)` 被重复添加了多次（例如定积分性质→面积/体积等），所以看起来边很多，但**实际涉及到的节点 ID 种类有限**，未出现在任何一条边里的节点就都成了孤立节点。

3. **表现**  
   力导向图中这些节点没有 link 力拉扯，只受中心力/学域锚点影响，会聚在学域扇形里但**不与其它节点连线**，视觉上像“散点”。

## 方案一：连接孤立节点，并补充恰当的知识点

### 第一步：连接孤立节点

- 已根据每个孤立节点的 `prerequisites`，在 `edges.json` 中**补全缺失的 prerequisite 边**（共 19 条，对应 19 个原先的孤立节点）。
- 补边后，这些节点都会至少有一条“前置 → 本节点”的边，不再孤立。
- 若需自行检查或再次补边，可运行：  
  `node scripts/find-isolated-and-fix-edges.js`  
  （会输出孤立节点列表并可按 prerequisites 追加边。）

## 本次补边涉及的节点（示例）

- 弧长计算、多元函数极限/连续性、全微分、多元复合求导  
- 齐次方程、伯努利方程、高阶线性方程、欧拉方程  
- 隐函数定理、条件极值、拉格朗日乘数法详解  
- 三重积分  
- 正项级数判别、交错级数、绝对收敛、函数项级数、一致收敛  
- 计算实现与验证、级数应用  

以上节点均至少有一条从 `prerequisites` 指向自身的边。

### 补充知识点（第二步）

对具有多个前置知识的节点，补全其余 prerequisite 边：
- `node-computational-implementation`：补充 `node-numerical-methods → 计算实现`
- `node-series-application`：补充 `node-fourier-series → 级数应用`  
共新增 2 条边，总边数 177。
