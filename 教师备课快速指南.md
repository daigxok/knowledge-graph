# 教师备课快速指南 📚

## 🎯 三步开始备课

### 第一步：登录系统
1. 打开 `landing.html` 或 `auth.html`
2. 使用教师账号登录（注册时选择"教师"角色）
3. 进入主应用界面

### 第二步：开启备课模式
1. 在页面右上角找到"备课模式"开关
2. 点击开启
3. 看到右下角出现"➕"浮动按钮

### 第三步：开始创建内容
- 点击"➕"按钮创建新节点
- 点击现有节点编辑内容
- 选择节点生成教案

---

## 📝 创建知识节点

### 必填信息
1. **节点名称**（中文）：如"极限的定义"
2. **英文名称**：如"Definition of Limit"
3. **描述**：详细说明这个知识点
4. **学域分类**：至少选一个
   - 变化与逼近
   - 结构与累积
   - 优化与决策
   - 不确定性处理
   - 真实问题建模

### 可选信息
- **难度**：1-5级（默认3）
- **重要性**：1-5级（默认3）
- **核心公式**：使用LaTeX语法，如 `\lim_{x \to a} f(x) = L`
- **前置知识**：搜索并选择前置节点
- **关键词**：用逗号分隔
- **预计学习时间**：如"2小时"

### 创建流程
```
点击➕按钮 → 填写信息 → 选择前置知识 → 点击"创建节点"
```

---

## 📖 生成教案

### 单个教案
1. 点击知识节点
2. 在详情面板点击"生成教案"
3. 查看自动生成的9个章节：
   - 教学目标
   - 知识点概述
   - 前置知识
   - 核心内容
   - 核心公式
   - 教学重点
   - 预计课时
   - 实际应用
   - 扩展主题

### 批量生成教案
1. 按住 `Ctrl`（Windows）或 `Cmd`（Mac）
2. 点击多个节点选中
3. 点击"批量生成教案"
4. 选择导出格式（Markdown 或 HTML）

---

## 💾 导出教案

### 支持的格式
- **Markdown** (.md) - 纯文本，易编辑
- **HTML** (.html) - 网页格式，包含样式
- **PDF** - 通过浏览器打印功能

### 导出步骤
```
生成教案 → 点击"导出"按钮 → 选择格式 → 保存文件
```

---

## ✏️ 编辑节点

### 编辑现有节点
1. 点击图谱中的节点
2. 在详情面板点击"编辑节点"
3. 修改信息
4. 点击"保存更改"

### 可编辑内容
- ✅ 所有基本信息
- ✅ 学域分类
- ✅ 难度和重要性
- ✅ 公式和前置知识
- ❌ 节点ID（不可改）

---

## 🔄 批量操作

### 多选节点
```
按住 Ctrl/Cmd + 点击节点 → 选中多个 → 批量操作面板出现
```

### 可用操作
- 批量生成教案
- 批量导出
- 清除选择

---

## 💡 实用技巧

### 1. 避免循环依赖
❌ 错误：A依赖B，B依赖C，C依赖A  
✅ 正确：确保依赖关系是单向的

### 2. 合理设置前置知识
- 只添加直接前置的知识点
- 不要添加过多前置（建议3-5个）
- 系统会自动检测循环

### 3. 使用LaTeX公式
```latex
行内公式：$f(x) = x^2$
独立公式：$$\int_a^b f(x)dx$$
极限：\lim_{x \to \infty} f(x)
求和：\sum_{i=1}^{n} i
```

### 4. 数据安全
⚠️ **重要**：
- 数据保存在浏览器本地
- 系统自动备份（保留10个）
- 建议定期导出备份
- 清除浏览器数据会丢失

---

## 🔧 常见问题

### Q: 看不到教师功能？
**A**: 确认已用教师账号登录，并开启"备课模式"

### Q: 提示"循环依赖"？
**A**: 调整前置关系，打破循环链

### Q: 数据会丢失吗？
**A**: 
- ✅ 关闭浏览器不会丢失
- ✅ 系统自动备份
- ❌ 清除浏览器数据会丢失

### Q: 如何导出所有数据？
**A**: 
1. 按F12打开开发者工具
2. 在控制台执行：
   ```javascript
   const data = localStorage.getItem('kg_nodes_data');
   console.log(data);
   ```
3. 复制输出的JSON

### Q: LaTeX公式不显示？
**A**: 
- 检查网络连接（需加载MathJax）
- 确认LaTeX语法正确
- 使用 `$...$` 包裹公式

---

## 📊 系统数据

### 当前节点统计
- **Phase 1 基础节点**: 78个
- **Phase 2 扩展节点**: 75个
- **总计**: 153个数学知识节点

### 测试页面
- 功能测试：`test-teacher-features.html`
- 单元测试：`test-teacher-unit-tests.html`

---

## 🎓 备课工作流程示例

### 准备一节"极限"课程

1. **创建主节点**
   - 名称：极限的定义
   - 学域：变化与逼近
   - 前置：函数、数列

2. **创建相关节点**
   - 左极限和右极限
   - 极限的性质
   - 极限的运算法则

3. **设置依赖关系**
   - "左右极限" 依赖 "极限的定义"
   - "极限性质" 依赖 "极限的定义"
   - "运算法则" 依赖 "极限性质"

4. **生成教案**
   - 选中所有相关节点
   - 批量生成教案
   - 导出为HTML或Markdown

5. **完善内容**
   - 编辑教案添加例题
   - 补充实际应用
   - 添加练习题

---

## 📞 获取帮助

### 详细文档
- 完整指南：`docs/TEACHER-USER-GUIDE.md`
- 开发者文档：`docs/DEVELOPER-GUIDE.md`
- 用户指南：`docs/USER-GUIDE.md`

### 快捷键
- `Ctrl/Cmd + 点击` - 多选节点
- `Esc` - 关闭面板
- `Ctrl/Cmd + F` - 搜索节点

---

**版本**: 1.0.0  
**更新**: 2026-02-28  
**提示**: 这是快速指南，详细功能请查看完整文档
