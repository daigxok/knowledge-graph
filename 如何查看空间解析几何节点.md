# å¦‚ä½•æŸ¥çœ‹ç©ºé—´è§£æå‡ ä½•èŠ‚ç‚¹

## é—®é¢˜æè¿°
åœ¨çŸ¥è¯†å›¾è°±ç•Œé¢ä¸­çœ‹ä¸åˆ°æ–°å¢çš„ç©ºé—´è§£æå‡ ä½•æ ¸å¿ƒèŠ‚ç‚¹ã€‚

---

## åŸå› åˆ†æ

### å¯èƒ½çš„åŸå› 
1. **æµè§ˆå™¨ç¼“å­˜**ï¼šæµè§ˆå™¨ç¼“å­˜äº†æ—§çš„nodes.jsonæ–‡ä»¶
2. **æ–‡ä»¶æœªåŠ è½½**ï¼šé¡µé¢æ²¡æœ‰é‡æ–°åŠ è½½æ›´æ–°åçš„æ•°æ®
3. **æ•°æ®è·¯å¾„é—®é¢˜**ï¼šç³»ç»Ÿå¯èƒ½åœ¨è¯»å–å…¶ä»–ä½ç½®çš„æ•°æ®æ–‡ä»¶
4. **ç­›é€‰å™¨è®¾ç½®**ï¼šç•Œé¢çš„ç­›é€‰å™¨å¯èƒ½éšè—äº†è¿™äº›èŠ‚ç‚¹

---

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šå¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨ï¼ˆæ¨èï¼‰

#### Windows/Linux
```
Ctrl + F5
æˆ–
Ctrl + Shift + R
```

#### Mac
```
Cmd + Shift + R
```

#### æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜
1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. å³é”®ç‚¹å‡»åˆ·æ–°æŒ‰é’®
3. é€‰æ‹©"æ¸…ç©ºç¼“å­˜å¹¶ç¡¬æ€§é‡æ–°åŠ è½½"

---

### æ–¹æ¡ˆ2ï¼šéªŒè¯æ•°æ®æ–‡ä»¶

#### æ£€æŸ¥nodes.jsonæ–‡ä»¶
è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯èŠ‚ç‚¹å·²æ·»åŠ ï¼š

```bash
# ç»Ÿè®¡æ€»èŠ‚ç‚¹æ•°
node count-nodes.js

# æœç´¢ç©ºé—´å‡ ä½•èŠ‚ç‚¹
node -e "const fs = require('fs'); const data = JSON.parse(fs.readFileSync('data/nodes.json', 'utf8')); const spatial = data.nodes.filter(n => n.chapter === 'chapter-12'); console.log('chapter-12èŠ‚ç‚¹æ•°:', spatial.length); spatial.forEach(n => console.log('-', n.name));"
```

é¢„æœŸè¾“å‡ºï¼š
```
chapter-12èŠ‚ç‚¹æ•°: 22
- ç©ºé—´ç›´è§’åæ ‡ç³»
- ç©ºé—´å‘é‡
- å‘é‡æ•°é‡ç§¯
- å‘é‡å‘é‡ç§¯
- å‘é‡æ··åˆç§¯
- å¹³é¢æ–¹ç¨‹
- ç©ºé—´ç›´çº¿æ–¹ç¨‹
- ç‚¹åˆ°å¹³é¢è·ç¦»
- ç‚¹åˆ°ç›´çº¿è·ç¦»
- å¼‚é¢ç›´çº¿è·ç¦»
- çƒé¢
- æŸ±é¢
- äºŒæ¬¡æ›²é¢
- ç©ºé—´æ›²çº¿
- èºæ—‹çº¿
- ä¸‰ç»´è·¯å¾„è§„åˆ’
- å«æ˜Ÿè½¨é“
- GPSå®šä½è¯¯å·®åˆ†æ
- æœºå™¨äººè§†è§‰å®šä½
ï¼ˆä»¥åŠåŸæœ‰çš„3ä¸ªåº”ç”¨èŠ‚ç‚¹ï¼‰
```

---

### æ–¹æ¡ˆ3ï¼šæ£€æŸ¥æ•°æ®åŠ è½½

#### åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ£€æŸ¥
1. æ‰“å¼€çŸ¥è¯†å›¾è°±é¡µé¢ï¼ˆindex.htmlï¼‰
2. æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åˆ‡æ¢åˆ°Consoleæ ‡ç­¾
4. è¿è¡Œä»¥ä¸‹ä»£ç ï¼š

```javascript
// æ£€æŸ¥å·²åŠ è½½çš„èŠ‚ç‚¹æ•°æ®
console.log('æ€»èŠ‚ç‚¹æ•°:', window.graphData ? window.graphData.nodes.length : 'æœªåŠ è½½');

// æœç´¢ç©ºé—´å‡ ä½•èŠ‚ç‚¹
if (window.graphData && window.graphData.nodes) {
  const spatialNodes = window.graphData.nodes.filter(n => 
    n.chapter === 'chapter-12' || 
    n.name.includes('ç©ºé—´') || 
    n.name.includes('å‘é‡')
  );
  console.log('ç©ºé—´å‡ ä½•ç›¸å…³èŠ‚ç‚¹:', spatialNodes.length);
  spatialNodes.forEach(n => console.log('-', n.id, ':', n.name));
}

// æ£€æŸ¥æ•°æ®åŠ è½½è·¯å¾„
console.log('æ•°æ®æ–‡ä»¶è·¯å¾„:', window.location.origin + '/data/nodes.json');
```

---

### æ–¹æ¡ˆ4ï¼šé‡æ–°å¯åŠ¨å¼€å‘æœåŠ¡å™¨

å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼š

```bash
# åœæ­¢å½“å‰æœåŠ¡å™¨ï¼ˆCtrl+Cï¼‰

# é‡æ–°å¯åŠ¨
# å¦‚æœä½¿ç”¨Python
python -m http.server 8000

# å¦‚æœä½¿ç”¨Node.js
npx http-server -p 8000

# å¦‚æœä½¿ç”¨Live Serverï¼ˆVS Codeï¼‰
# å³é”®index.html -> Open with Live Server
```

ç„¶åè®¿é—®ï¼š`http://localhost:8000`

---

### æ–¹æ¡ˆ5ï¼šç›´æ¥æŸ¥çœ‹æ•°æ®æ–‡ä»¶

#### ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨
1. æ‰“å¼€ `data/nodes.json`
2. æœç´¢ `node-spatial-coordinate-system`
3. ç¡®è®¤èŠ‚ç‚¹å­˜åœ¨

#### ä½¿ç”¨å‘½ä»¤è¡Œ
```bash
# Windows PowerShell
Select-String -Path "data/nodes.json" -Pattern "node-spatial-coordinate-system"

# Linux/Mac
grep "node-spatial-coordinate-system" data/nodes.json
```

---

## åœ¨ç•Œé¢ä¸­æŸ¥æ‰¾èŠ‚ç‚¹

### æ–¹æ³•1ï¼šä½¿ç”¨æœç´¢åŠŸèƒ½
1. æ‰“å¼€çŸ¥è¯†å›¾è°±ç•Œé¢
2. åœ¨æœç´¢æ¡†ä¸­è¾“å…¥ï¼š
   - "ç©ºé—´"
   - "å‘é‡"
   - "å¹³é¢"
   - "ç›´çº¿"

### æ–¹æ³•2ï¼šä½¿ç”¨ç« èŠ‚ç­›é€‰
1. æ‰¾åˆ°ç« èŠ‚ç­›é€‰å™¨
2. é€‰æ‹©"ç¬¬12ç«  ç©ºé—´è§£æå‡ ä½•"
3. åº”è¯¥æ˜¾ç¤º22ä¸ªèŠ‚ç‚¹

### æ–¹æ³•3ï¼šä½¿ç”¨å­¦åŸŸç­›é€‰
1. æ‰¾åˆ°å­¦åŸŸç­›é€‰å™¨
2. é€‰æ‹©"ä¼˜åŒ–ä¸å†³ç­–"ï¼ˆDomain-3ï¼‰
3. åº”è¯¥çœ‹åˆ°17ä¸ªç©ºé—´å‡ ä½•èŠ‚ç‚¹

---

## åˆ›å»ºæµ‹è¯•é¡µé¢

å¦‚æœä¸Šè¿°æ–¹æ³•éƒ½ä¸è¡Œï¼Œåˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•é¡µé¢ï¼š

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ç©ºé—´å‡ ä½•èŠ‚ç‚¹æµ‹è¯•</title>
</head>
<body>
    <h1>ç©ºé—´è§£æå‡ ä½•èŠ‚ç‚¹æµ‹è¯•</h1>
    <div id="result"></div>
    
    <script>
        fetch('data/nodes.json')
            .then(response => response.json())
            .then(data => {
                const spatialNodes = data.nodes.filter(n => n.chapter === 'chapter-12');
                const resultDiv = document.getElementById('result');
                
                resultDiv.innerHTML = `
                    <h2>æ‰¾åˆ° ${spatialNodes.length} ä¸ª chapter-12 èŠ‚ç‚¹</h2>
                    <ul>
                        ${spatialNodes.map(n => `<li>${n.id}: ${n.name}</li>`).join('')}
                    </ul>
                `;
            })
            .catch(error => {
                document.getElementById('result').innerHTML = 
                    `<p style="color: red;">åŠ è½½å¤±è´¥: ${error.message}</p>`;
            });
    </script>
</body>
</html>
```

ä¿å­˜ä¸º `test-spatial-nodes.html`ï¼Œç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚

---

## å¸¸è§é—®é¢˜æ’æŸ¥

### Q1: èŠ‚ç‚¹æ•°æ®å·²æ›´æ–°ï¼Œä½†ç•Œé¢ä¸æ˜¾ç¤º
**A**: æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å¹¶å¼ºåˆ¶åˆ·æ–°ï¼ˆCtrl+F5ï¼‰

### Q2: æœç´¢"ç©ºé—´"æ²¡æœ‰ç»“æœ
**A**: æ£€æŸ¥æœç´¢åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œï¼Œå°è¯•æœç´¢å…¶ä»–å·²çŸ¥èŠ‚ç‚¹

### Q3: ç« èŠ‚ç­›é€‰å™¨æ²¡æœ‰"ç¬¬12ç« "é€‰é¡¹
**A**: æ£€æŸ¥ç­›é€‰å™¨çš„æ•°æ®æºï¼Œå¯èƒ½éœ€è¦æ›´æ–°ç­›é€‰å™¨é…ç½®

### Q4: æ§åˆ¶å°æ˜¾ç¤º404é”™è¯¯
**A**: æ£€æŸ¥æ–‡ä»¶è·¯å¾„ï¼Œç¡®ä¿nodes.jsonåœ¨æ­£ç¡®çš„ä½ç½®

### Q5: èŠ‚ç‚¹æ€»æ•°ä»ç„¶æ˜¯153
**A**: æ•°æ®æ–‡ä»¶å¯èƒ½æ²¡æœ‰æ­£ç¡®ä¿å­˜ï¼Œé‡æ–°è¿è¡Œç”Ÿæˆè„šæœ¬

---

## éªŒè¯æ¸…å•

- [ ] è¿è¡Œ `node count-nodes.js` ç¡®è®¤èŠ‚ç‚¹æ•°ä¸º172
- [ ] åœ¨nodes.jsonä¸­æœç´¢ `node-spatial-coordinate-system` ç¡®è®¤å­˜åœ¨
- [ ] æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- [ ] å¼ºåˆ¶åˆ·æ–°é¡µé¢ï¼ˆCtrl+F5ï¼‰
- [ ] æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
- [ ] ä½¿ç”¨æœç´¢åŠŸèƒ½æœç´¢"ç©ºé—´"
- [ ] ä½¿ç”¨ç« èŠ‚ç­›é€‰å™¨é€‰æ‹©"ç¬¬12ç« "
- [ ] åˆ›å»ºæµ‹è¯•é¡µé¢éªŒè¯æ•°æ®åŠ è½½

---

## å¿«é€Ÿè¯Šæ–­è„šæœ¬

åˆ›å»ºä¸€ä¸ªè¯Šæ–­è„šæœ¬ `diagnose-spatial-nodes.js`ï¼š

```javascript
const fs = require('fs');
const path = require('path');

console.log('ğŸ” ç©ºé—´å‡ ä½•èŠ‚ç‚¹è¯Šæ–­\n');

// 1. æ£€æŸ¥æ–‡ä»¶å­˜åœ¨
const nodesPath = path.join(__dirname, 'data/nodes.json');
if (!fs.existsSync(nodesPath)) {
    console.log('âŒ nodes.json æ–‡ä»¶ä¸å­˜åœ¨ï¼');
    process.exit(1);
}
console.log('âœ… nodes.json æ–‡ä»¶å­˜åœ¨');

// 2. è¯»å–å¹¶è§£ææ–‡ä»¶
let data;
try {
    const content = fs.readFileSync(nodesPath, 'utf8');
    data = JSON.parse(content);
    console.log('âœ… æ–‡ä»¶æ ¼å¼æ­£ç¡®');
} catch (error) {
    console.log('âŒ æ–‡ä»¶è§£æå¤±è´¥:', error.message);
    process.exit(1);
}

// 3. æ£€æŸ¥èŠ‚ç‚¹æ•°ç»„
if (!data.nodes || !Array.isArray(data.nodes)) {
    console.log('âŒ nodes æ•°ç»„ä¸å­˜åœ¨æˆ–æ ¼å¼é”™è¯¯');
    process.exit(1);
}
console.log('âœ… nodes æ•°ç»„å­˜åœ¨');
console.log(`   æ€»èŠ‚ç‚¹æ•°: ${data.nodes.length}`);

// 4. æ£€æŸ¥ç©ºé—´å‡ ä½•èŠ‚ç‚¹
const spatialNodes = data.nodes.filter(n => n.chapter === 'chapter-12');
console.log(`\nğŸ“Š chapter-12 èŠ‚ç‚¹: ${spatialNodes.length} ä¸ª`);

if (spatialNodes.length < 19) {
    console.log('âš ï¸  ç©ºé—´å‡ ä½•èŠ‚ç‚¹æ•°é‡ä¸è¶³ï¼');
    console.log('   é¢„æœŸ: è‡³å°‘19ä¸ª');
    console.log('   å®é™…:', spatialNodes.length);
} else {
    console.log('âœ… ç©ºé—´å‡ ä½•èŠ‚ç‚¹æ•°é‡æ­£å¸¸');
}

// 5. åˆ—å‡ºæ‰€æœ‰ç©ºé—´å‡ ä½•èŠ‚ç‚¹
console.log('\nğŸ“ ç©ºé—´å‡ ä½•èŠ‚ç‚¹åˆ—è¡¨:');
spatialNodes.forEach((n, i) => {
    console.log(`   ${i + 1}. ${n.id} - ${n.name}`);
});

// 6. æ£€æŸ¥å…³é”®èŠ‚ç‚¹
const keyNodes = [
    'node-spatial-coordinate-system',
    'node-spatial-vector',
    'node-vector-dot-product',
    'node-plane-equation',
    'node-line-equation'
];

console.log('\nğŸ”‘ å…³é”®èŠ‚ç‚¹æ£€æŸ¥:');
keyNodes.forEach(id => {
    const exists = data.nodes.some(n => n.id === id);
    console.log(`   ${exists ? 'âœ…' : 'âŒ'} ${id}`);
});

// 7. æ–‡ä»¶ä¿®æ”¹æ—¶é—´
const stats = fs.statSync(nodesPath);
console.log('\nğŸ“… æ–‡ä»¶ä¿¡æ¯:');
console.log(`   æœ€åä¿®æ”¹: ${stats.mtime.toLocaleString('zh-CN')}`);
console.log(`   æ–‡ä»¶å¤§å°: ${(stats.size / 1024).toFixed(2)} KB`);

console.log('\nâœ¨ è¯Šæ–­å®Œæˆï¼');
```

è¿è¡Œè¯Šæ–­ï¼š
```bash
node diagnose-spatial-nodes.js
```

---

## è”ç³»æ”¯æŒ

å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½æ— æ³•è§£å†³é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. æµè§ˆå™¨ç±»å‹å’Œç‰ˆæœ¬
2. `node count-nodes.js` çš„è¾“å‡º
3. `node diagnose-spatial-nodes.js` çš„è¾“å‡º
4. æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœ‰ï¼‰
5. æ˜¯å¦ä½¿ç”¨äº†æœ¬åœ°æœåŠ¡å™¨

---

**æœ€åæ›´æ–°**: 2026-03-01  
**çŠ¶æ€**: èŠ‚ç‚¹å·²æ·»åŠ åˆ° data/nodes.json  
**é¢„æœŸèŠ‚ç‚¹æ•°**: 172ä¸ªï¼ˆPhase 1: 97, Phase 2: 75ï¼‰  
**chapter-12èŠ‚ç‚¹**: 22ä¸ª
